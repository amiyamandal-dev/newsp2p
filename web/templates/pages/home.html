{{define "content"}}
<!-- Hero Section -->
<div class="bg-black dark:bg-white text-white dark:text-black rounded-none p-8 mb-8 border-4 border-black dark:border-white shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] dark:shadow-[8px_8px_0px_0px_rgba(255,255,255,1)]">
    <div class="max-w-3xl">
        <h1 class="text-6xl font-black mb-4 uppercase tracking-tighter">
            Liberation News
        </h1>
        <p class="text-xl font-mono mb-6 uppercase">
            The Revolution Will Be Decentralized.
        </p>
        <div class="flex space-x-4">
            <a href="/create" class="bg-white text-black dark:bg-black dark:text-white px-6 py-3 font-bold uppercase hover:underline border-2 border-transparent hover:border-white dark:hover:border-black transition-all">
                Write Article
            </a>
            <a href="/network" class="border-2 border-white dark:border-black text-white dark:text-black px-6 py-3 font-bold uppercase hover:bg-white hover:text-black dark:hover:bg-black dark:hover:text-white transition-all">
                View Network
            </a>
        </div>
    </div>
</div>

<!-- Stats Bar -->
<div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-8">
    <!-- Total Articles -->
    <div class="bg-white dark:bg-black border-2 border-black dark:border-white p-6">
        <div class="flex items-center justify-between">
            <div>
                <p class="text-black dark:text-white text-xs font-bold uppercase tracking-widest">Total Articles</p>
                <p class="text-3xl font-black text-black dark:text-white">{{.Stats.TotalArticles}}</p>
            </div>
            <div class="bg-black dark:bg-white text-white dark:text-black rounded-full p-2">
                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
                </svg>
            </div>
        </div>
    </div>

    <!-- Active Peers -->
    <div class="bg-white dark:bg-black border-2 border-black dark:border-white p-6">
        <div class="flex items-center justify-between">
            <div>
                <p class="text-black dark:text-white text-xs font-bold uppercase tracking-widest">Active Peers</p>
                <p class="text-3xl font-black text-black dark:text-white">{{.Stats.ActivePeers}}</p>
            </div>
            <div class="bg-black dark:bg-white text-white dark:text-black rounded-full p-2">
                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                </svg>
            </div>
        </div>
    </div>

    <!-- IPFS Status -->
    <div class="bg-white dark:bg-black border-2 border-black dark:border-white p-6">
        <div class="flex items-center justify-between">
            <div>
                <p class="text-black dark:text-white text-xs font-bold uppercase tracking-widest">IPFS Status</p>
                <p class="text-lg font-black uppercase {{if .Stats.IPFSOnline}}text-black dark:text-white{{else}}text-gray-500{{end}}">
                    {{if .Stats.IPFSOnline}}ONLINE{{else}}OFFLINE{{end}}
                </p>
            </div>
            <div class="bg-black dark:bg-white text-white dark:text-black rounded-full p-2">
                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                </svg>
            </div>
        </div>
    </div>

    <!-- P2P Network -->
    <div class="bg-white dark:bg-black border-2 border-black dark:border-white p-6">
        <div class="flex items-center justify-between">
            <div>
                <p class="text-black dark:text-white text-xs font-bold uppercase tracking-widest">P2P Network</p>
                <p class="text-lg font-black uppercase {{if .Stats.P2PEnabled}}text-black dark:text-white{{else}}text-gray-500{{end}}">
                    {{if .Stats.P2PEnabled}}ACTIVE{{else}}OFF{{end}}
                </p>
            </div>
            <div class="bg-black dark:bg-white text-white dark:text-black rounded-full p-2">
                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm4.24 16L12 15.45 7.77 18l1.12-4.81-3.73-3.23 4.92-.42L12 5l1.92 4.53 4.92.42-3.73 3.23L16.23 18z"/>
                </svg>
            </div>
        </div>
    </div>
</div>

<!-- Article Feed -->
<div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
    <!-- Main Feed -->
    <div class="lg:col-span-2 space-y-6">
        <h2 class="text-2xl font-black text-black dark:text-white mb-4 uppercase border-b-4 border-black dark:border-white inline-block">Latest Articles</h2>

        {{range .Articles}}
        <article class="bg-white dark:bg-black border-2 border-black dark:border-white p-6 shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] dark:shadow-[4px_4px_0px_0px_rgba(255,255,255,1)] hover:translate-x-1 hover:translate-y-1 hover:shadow-none transition-all cursor-pointer">
            <!-- Author Info -->
            <div class="flex items-center mb-4 border-b border-black dark:border-white pb-2">
                <div class="w-8 h-8 bg-black dark:bg-white text-white dark:text-black flex items-center justify-center font-bold text-sm">
                    {{index .Author 0 | printf "%c" | upper}}
                </div>
                <div class="ml-3">
                    <p class="text-sm font-bold text-black dark:text-white uppercase">{{.Author}}</p>
                    <p class="text-xs font-mono text-gray-600 dark:text-gray-400">{{.Timestamp.Format "Jan 2, 2006 at 3:04 PM"}}</p>
                </div>
                {{if .Signature}}
                <span class="ml-auto border border-black dark:border-white text-black dark:text-white text-xs px-2 py-1 font-bold uppercase flex items-center">
                    VERIFIED
                </span>
                {{end}}
            </div>

            <!-- Title -->
            <h3 class="text-2xl font-black text-black dark:text-white mb-2 hover:underline">
                <a href="/article/{{.CID}}">{{.Title}}</a>
            </h3>

            <!-- Excerpt -->
            <p class="text-black dark:text-white mb-4 font-serif leading-relaxed line-clamp-3">
                {{.Body | truncate 200}}
            </p>

            <!-- Tags -->
            <div class="flex flex-wrap gap-2 mb-4">
                {{range .Tags}}
                <span class="bg-black dark:bg-white text-white dark:text-black text-xs px-2 py-1 font-bold uppercase">
                    #{{.}}
                </span>
                {{end}}
            </div>

            <!-- Actions -->
            <div class="flex items-center justify-between pt-2">
                <div class="flex space-x-4">
                    <button class="flex items-center text-black dark:text-white hover:bg-black hover:text-white dark:hover:bg-white dark:hover:text-black px-2 py-1 transition">
                        <span class="text-sm font-bold uppercase">Upvote</span>
                    </button>
                    <button class="flex items-center text-black dark:text-white hover:bg-black hover:text-white dark:hover:bg-white dark:hover:text-black px-2 py-1 transition">
                        <span class="text-sm font-bold uppercase">Share</span>
                    </button>
                </div>
                <a href="/article/{{.CID}}" class="text-black dark:text-white font-bold uppercase border-b-2 border-black dark:border-white hover:bg-black hover:text-white dark:hover:bg-white dark:hover:text-black transition">
                    Read more â†’
                </a>
            </div>
        </article>
        {{else}}
        <div class="text-center py-12 border-2 border-black dark:border-white border-dashed">
            <h3 class="mt-2 text-lg font-bold text-black dark:text-white uppercase">No articles yet</h3>
            <p class="mt-1 text-sm text-gray-600 dark:text-gray-400 font-mono">BE THE FIRST TO BREAK THE SILENCE.</p>
            <div class="mt-6">
                <a href="/create" class="inline-flex items-center px-6 py-3 border-2 border-black dark:border-white text-sm font-bold text-white bg-black dark:bg-white dark:text-black uppercase hover:opacity-80">
                    Write Article
                </a>
            </div>
        </div>
        {{end}}
    </div>

    <!-- Sidebar -->
    <div class="space-y-6">
        <!-- Network Status -->
        <div class="bg-black dark:bg-white text-white dark:text-black p-6 border-4 border-black dark:border-white">
            <h3 class="text-xl font-black mb-4 uppercase">Network Status</h3>
            <div class="space-y-3 font-mono text-sm">
                <div class="flex justify-between border-b border-white dark:border-black pb-1">
                    <span class="opacity-80">Connected Peers</span>
                    <span class="font-bold">{{.Stats.ActivePeers}}</span>
                </div>
                <div class="flex justify-between border-b border-white dark:border-black pb-1">
                    <span class="opacity-80">Network Health</span>
                    <span class="font-bold">{{if gt .Stats.ActivePeers 0}}GOOD{{else}}LOW{{end}}</span>
                </div>
                <div class="flex justify-between pt-1">
                    <span class="opacity-80">Your Peer ID</span>
                </div>
                <div class="text-xs break-all bg-white dark:bg-black text-black dark:text-white p-2 mt-1">
                    {{.Stats.PeerID}}
                </div>
            </div>
        </div>
    </div>
</div>
{{end}}
