server:
  host: 0.0.0.0
  port: 12345
  mode: release  # debug or release
  read_timeout: 30s
  write_timeout: 30s
  shutdown_timeout: 10s

database:
  mode: distributed  # "sqlite" for centralized, "distributed" for P2P
  path: ./data/badger_db  # SQLite DB or BadgerDB cache path
  max_open_conns: 10
  max_idle_conns: 5

ipfs:
  api_endpoint: http://localhost:5001
  timeout: 60s
  pin_articles: true

auth:
  # IMPORTANT: Set NEWS_AUTH_JWT_SECRET environment variable in production
  # This value should be overridden by environment variable
  jwt_secret: ${NEWS_AUTH_JWT_SECRET}
  jwt_expiry: 24h
  refresh_token_expiry: 168h  # 7 days
  bcrypt_cost: 12

search:
  index_path: ./data/search.bleve

logging:
  level: info  # debug, info, warn, error
  format: text  # json or text

rate_limit:
  requests_per_minute: 1000
  burst: 100

cors:
  allowed_origins:
    - http://localhost:3000
    - http://localhost:12345

# P2P Network Configuration
p2p:
  enabled: true
  listen_addrs:
    - /ip4/0.0.0.0/tcp/4001
    - /ip4/0.0.0.0/udp/4001/quic-v1
  bootstrap_peers:
    # LibP2P public bootstrap nodes (for DHT)
    - /dnsaddr/bootstrap.libp2p.io/p2p/QmNnooDu7bfjPFoTZYxMNLWUQJyrVwtbZg5gBMjTezGAJN
    - /dnsaddr/bootstrap.libp2p.io/p2p/QmQCU2EcMqAqQPR2i9bChDtGNJchTbq5TbXJJ16u19uLTa
    # Add your own node addresses here for direct connection:
    # - /ip4/YOUR_IP/tcp/4001/p2p/YOUR_PEER_ID
  rendezvous: newsp2p-network
